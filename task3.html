<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
      rel="stylesheet"
    />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      .btn-like.active {
        background-color: green !important;
        color: white;
      }

      .btn-dislike.active {
        background-color: red !important;
        color: white;
      }
    </style>
  </head>
  <body
    class="bg-light d-flex justify-content-center align-items-center min-vh-100"
  >
    <div class="card shadow" style="width: 22rem">
      <div class="card-header d-flex align-items-center">
        <img
          src="/unnamed.jpg"
          class="rounded-circle me-2"
          style="width: 40px; height: 40px; object-fit: cover"
          alt="profile"
        />
        <h5 class="mb-0">John Durai Raj</h5>
      </div>
      <img src="/beautiful.jpg" class="card-img-top" alt="Post Image" />
      <div class="card-body">
        <p class="card-text">This is my new post</p>
        <div class="d-flex justify-content-around text-center mb-3">
          <div>
            <div><span id="likes">0</span></div>
            <button id="likeBtn" class="btn btn-outline-success btn-like mt-1">
              <i class="bi bi-hand-thumbs-up-fill"></i>
            </button>
          </div>
          <div>
            <div><span id="dislikes">0</span></div>
            <button
              id="dislikeBtn"
              class="btn btn-outline-danger btn-dislike mt-1"
            >
              <i class="bi bi-hand-thumbs-down-fill"></i>
            </button>
          </div>
        </div>

        <div style="display: flex; justify-content: center">
          <p
            class="mb-0 bg-dark text-white text-center p-1"
            style="border-radius: 2px; width: fit-content"
          >
            Total Reactions: <span id="total">0</span>
          </p>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      const likeBtn = document.getElementById("likeBtn");
      const dislikeBtn = document.getElementById("dislikeBtn");
      const likesCount = document.getElementById("likes");
      const dislikesCount = document.getElementById("dislikes");
      const totalCount = document.getElementById("total");

        let likes = 0;
        let dislikes = 0;
        let userReaction = null;

        function updateCounts() {
          likesCount.textContent = likes;
          dislikesCount.textContent = dislikes;
          totalCount.textContent = likes + dislikes;
        }

        likeBtn.addEventListener("click", function () {
          if (userReaction === "like") {
            likes--;
            userReaction = null;
            likeBtn.classList.remove("active");
          } else {
            likes++;
            likeBtn.classList.add("active");
            if (userReaction === "dislike") {
              dislikes--;
              dislikeBtn.classList.remove("active");
            }
            userReaction = "like";
          }
          updateCounts();
        });

        dislikeBtn.addEventListener("click", function () {
          if (userReaction === "dislike") {
            dislikes--;
            userReaction = null;
            dislikeBtn.classList.remove("active");
          } else {
            dislikes++;
            dislikeBtn.classList.add("active");
            if (userReaction === "like") {
              likes--;
              likeBtn.classList.remove("active");
            }
            userReaction = "dislike";
          }
          updateCounts();
        });
    </script>
  </body>
</html>
